{% extends 'crmBundle::base.html.twig' %}
{% block body %}
<div class="container-fluid">
	<h2>Obras</h2>
	<a href="obras/agregar"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Agregar una Obra</a>
	<div class="table-responsive">
		<table class="table table-hover table table-condensed table table-striped">
			<thead style="text-align: center;">
				<tr>
					<th></th>
					<th>Id</th>
					<th>Nombre</th>
					<th>Cliente</th>
					<th>Direccion</th>
					<th>Fecha Plan</th>
					<th>Fecha Real</th>
					<th>Coste</th>
					<th>Estado de la Obra</th>
{% if permisos.obrasEditar %}<th></th>{% endif %}
				</tr>
			</thead>
			<tbody>
				{% for entity in entities %}
				<tr>
					<td></td>
					<td>{{ entity.id }}</td>
					<td>{{ entity.nombre }}</td>
					<td>{{ entity.nombreCliente }}</td>
					<td>{{ entity.direccion}}</td>
					<td><strong>Fecha inicio: </strong>{{ entity.fechaInicioPlan|date("m/d/Y")}} <br>
					<strong>Fecha Fin: </strong>{{ entity.fechafinalReal|date("m/d/Y")}}</td>
					
					<td><strong>Fecha inicio: </strong>{{ entity.fechaInicioReal|date("m/d/Y")}}<br>
					<strong>Fecha Fin: </strong>{{ entity.fechafinalReal|date("m/d/Y")}}</td>
					
					<td><strong>Coste Real: </strong>${{ entity.costeReal|number_format(2, '.', ',')}} <br>
					<strong>Coste Planificado: </strong>${{ entity.costePlanificado|number_format(2, '.', ',')}}</td>
					
					<td>{{ entity.estadoObra }}</td>
				{% if permisos.obrasEditar %}<td><a href="/obras/editar/{{ entity.id }}"><span style="color: #000;" class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td>{% endif %}
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
{% endblock %}
